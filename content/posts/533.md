---
title: "ä¸€æ–‡è®²é€é¼ æ ‡åŠè§¦æ§æ¿å¼€å‘ã€ä½¿ç”¨æŠ€å·§"
date: 2023-04-20T11:21:17+08:00
---

\[TOC\]

å¼€å‘ç™½æ¿è¿‡ç¨‹ä¸­ï¼Œç”»å¸ƒå¹³ç§»ç¼©æ”¾æ“ä½œæ˜¯ä½¿ç”¨å¾ˆé¢‘ç¹ä¸”æœ€åŸºç¡€çš„äº¤äº’åŠŸèƒ½ã€‚ç”±äºéœ€æ±‚æ’æœŸä¸€ç›´æœªå®ç°è¯¥åŠŸèƒ½ï¼Œå¯¼è‡´ç™½æ¿å¼€å‘ä½¿ç”¨è¿‡ç¨‹ä¸­ä½“éªŒå·®ç‚¹æ„æ€ï¼Œæœ‰ä¸€å¤©æˆ‘ç»ˆäºå¿ä¸äº†äº†ï¼ŒèŠ±äº†ä¸€ä¸ªæ™šä¸Šç ”ç©¶äº†ä¸€ä¸‹ç›¸å…³çš„å†…å®¹ã€‚æ‰€ä»¥æœ‰äº†ä»¥ä¸‹å®è·µã€‚

ä¸€ã€åœ¨ç™½æ¿ç±»ç»˜å›¾äº§å“ä¸­ï¼Œå¹³ç§»ç¼©æ”¾å¤§éƒ¨åˆ†éƒ½æ˜¯ä¾é é¼ æ ‡/è§¦æ§æ¿æ“ä½œå®Œæˆçš„ã€‚è¿™é‡Œä¸å¯é¿å…çš„è¦å¤„ç†é¼ æ ‡äº‹ä»¶ç›¸å…³çš„ä»£ç é€»è¾‘ã€‚é’ˆå¯¹ä¸åŒè®¾å¤‡éœ€è¦å…¼å®¹å¤„ç†ä¸åŒçš„é€»è¾‘ï¼Œå°¤å…¶åœ¨ä½¿ç”¨ mac è§¦æ§æ¿æ—¶å·¦æ»‘è¿”å›ä¸Šä¸€é¡µçš„æ“ä½œå¾ˆå¹²æ‰°ç”»å›¾ï¼Œä¼šå¯¼è‡´æµè§ˆå™¨é¡µé¢åé€€ï¼Œéœ€è¦ç¦ç”¨è¯¥æ“ä½œã€‚

äºŒã€åœ¨æˆ‘ä»¬æ—¥å¸¸å·¥ä½œç”Ÿæ´»ä¸­ï¼Œå‡ ä¹æ¯å¤©éƒ½éœ€è¦ç”¨é¼ æ ‡æˆ–è€…è§¦æ§æ¿ã€‚ä½†æ˜¯å‘ç°å‘¨å›´å¤§éƒ¨åˆ†ç”¨ mac çš„åŒäº‹ä½¿ç”¨è§¦æ§æ¿çš„æ–¹å¼éƒ½ä¸å¤ªé«˜æ•ˆï¼Œè¿˜æ˜¯ä½¿ç”¨æ™®é€šé¼ æ ‡é‚£ä¸€å¥—æ“ä½œã€‚ä¸æ„¿æ›´æ–°è‡ªå·±çš„ä½¿ç”¨ä¹ æƒ¯ã€‚

é’ˆå¯¹ä»¥ä¸ŠåŸå› ï¼Œæˆ‘è¦æé—®äº†ï¼šæˆ‘ä»¬çœŸçš„ä¼šè¿ç”¨é¼ æ ‡å’Œè§¦æ§æ¿å—ï¼Ÿ

è¿™ä¸ªé—®é¢˜åŒ…å«ä¸¤å±‚å«ä¹‰ï¼š

1. ä½œä¸º mac ç”¨æˆ·ï¼šè§¦æ§æ¿æˆ‘ä»¬ä½¿ç”¨ä¹ æƒ¯æ˜¯å¦é«˜æ•ˆã€‚
2. ä½œä¸ºå‰ç«¯å¼€å‘è€…ï¼šè§¦æ§æ¿ç›¸å…³çš„éœ€æ±‚æˆ‘ä»¬èƒ½å¦å®ç°ã€‚

æ¥ä¸‹æ¥æˆ‘ä»¬å¸¦ç€é—®é¢˜æ¥å¯»æ‰¾ç­”æ¡ˆã€‚

## TL;DR

çœ‹å¥½å¤šå›½å¤–çš„æ–‡ç« ï¼Œå¤ªé•¿äº†éƒ½ä¼šæœ‰ TL;DR(Too Long; Didn't Read.)ï¼Œæˆ‘è®¤ä¸ºé‚£ä¸æ˜¯ Too Long;Didn't Readï¼Œè€Œæ˜¯ Too Lazy; Didn't Read. ğŸ˜‚ æ‰€ä»¥æˆ‘ä¹Ÿå…ˆæŠŠç»“è®ºå†™åœ¨è¿™é‡Œã€‚

é€šè¿‡æœ¬æ–‡èƒ½å­¦åˆ°çš„çŸ¥è¯†ï¼š

1. é¼ æ ‡æ¨¡å¼
   1. é¼ æ ‡æ»šè½®ç¼©æ”¾ç”»å¸ƒ
   2. å³é”®é•¿æŒ‰æ‹–æ‹½å¹³ç§»ç”»å¸ƒ
2. è§¦æ§æ¿æ¨¡å¼
   1. åŒæŒ‡ç§»åŠ¨å¹³ç§»ç”»å¸ƒ
   2. åŒæŒ‡æåˆç¼©æ”¾ç”»å¸ƒ
   3. ç¦ç”¨åŒæŒ‡è½»æ‰«åœ¨é¡µé¢é—´åˆ‡æ¢
   4. ç¦ç”¨æ™ºèƒ½ç¼©æ”¾
3. è§¦æ§æ¿çš„é«˜çº§ç”¨æ³•

ä¸‹é¢å¼€å§‹æ­£æ–‡ï¼š

å¯¹ mac æ“ä½œå¾ˆæºœçš„é€‰æ‰‹å¯ä»¥å¿½ç•¥â€œè§¦æ§æ¿ä½¿ç”¨â€è¿™èŠ‚ã€‚ ä½†æ˜¯æˆ‘å‘ç°èº«è¾¹å¤§éƒ¨åˆ†ä½¿ç”¨ mac çš„åŒäº‹éƒ½ä¸æ€ä¹ˆä¼šç†Ÿç»ƒä½¿ç”¨è§¦æ§æ¿çš„é«˜çº§åŠŸèƒ½ï¼Œè¿˜ä»…ä»…åœç•™åœ¨èƒ½ç”¨çš„é˜¶æ®µã€‚æˆ‘ä¸ªäººæ¨èä½ é˜…è¯»ä¸‹å‡çº§è‡ªå·±çš„ä½¿ç”¨ä¹ æƒ¯ã€‚

\--->>> å¿½ç•¥å¼€å§‹ <<<---

## 1 åŸºç¡€æ¦‚å¿µ

### 1.1 é¼ æ ‡ã€è§¦æ§æ¿

å¦‚ä¸‹å›¾æ‰€ç¤ºåˆ†åˆ«æ˜¯ï¼šMagic Trackpad å¦™æ§æ¿ï¼ˆæ–‡ä¸­ç»Ÿç§°è§¦æ§æ¿ï¼‰ã€Magic Mouse å¦™æ§é¼ æ ‡ã€ æ™®é€šé¼ æ ‡ã€‚

![](https://img13.360buyimg.com/imagetools/jfs/t1/102213/38/25065/566896/6234280dEc53b0fef/727672b3376d662d.jpg)

(Magic Trackpad å¦™æ§æ¿ / Magic Mouse å¦™æ§é¼ æ ‡ / æ™®é€šé¼ æ ‡)

æœ¬èŠ‚æ‰€è¯´çš„åŒºåˆ«ç‰¹æŒ‡**Apple è§¦æ§è®¾å¤‡**å’Œ**æ™®é€šé¼ æ ‡**çš„äº¤äº’åŒºåˆ«ã€‚å› ä¸ºå¦™æ§æ¿å’Œå¦™æ§é¼ æ ‡äº¤äº’å½¢å¼æ˜¯ä¸€è‡´çš„ï¼Œéƒ½æ˜¯**å•æŒ‡ã€åŒæŒ‡ç‚¹å‡»æˆ–è€…æ»‘åŠ¨ä»¥åŠå¤šæŒ‡æ»‘åŠ¨**ï¼Œè€Œæ™®é€šé¼ æ ‡åˆ™æ˜¯**æŒ‰é”®ç‚¹å‡»ä¸æ»šè½®æ»šåŠ¨**ä¸ Apple è§¦æ§è®¾å¤‡æœ‰ç€æ˜æ˜¾çš„åŒºåˆ«ã€‚

### 1.2 ç‚¹å‡»å’Œæ‰‹åŠ¿

ç›¸ä¿¡ç°åœ¨å·¥ä½œçš„å¤§å®¶å¯¹é¼ æ ‡çš„çš„æ“ä½œä¹ æƒ¯ï¼Œéƒ½æ¥æºäº Windows æ—¶ä»£çš„äººæœºäº¤äº’ã€‚

è€Œ Apple è®¾å¤‡æ”¹è¿›äº†è¿™ä¸€äº¤äº’ä¹ æƒ¯ã€‚ä¸»è¦è¿˜æ˜¯å¾—ç›Šäºç¡¬ä»¶è®¾å¤‡æ”¯æŒäº†å¤šç‚¹è§¦æ§ã€‚æœ‰äº†å¤šç‚¹è§¦æ§å°±å¯ä»¥å¢åŠ æ›´å¤šçš„æ‰‹åŠ¿äº¤äº’ã€‚å½“å¹´åœ¨é¼ æ ‡æ—¶ä»£å°±ç”¨è¿‡å¾ˆå¤šæµè§ˆå™¨æ’ä»¶ï¼Œæ”¯æŒé¼ æ ‡æ‰‹åŠ¿ï¼Œé€šè¿‡é¼ æ ‡ç”»ä¸€ä¸ªé¢„å…ˆè®¾ç½®å¥½çš„å›¾å½¢ï¼Œå°±å¯ä»¥æ‰§è¡ŒæŸäº›å…·ä½“çš„æ“ä½œï¼Œä½†æ˜¯ç”¨é¼ æ ‡ç”»å›¾è¿˜æ˜¯æœ‰äº›éš¾ä»¥æ“ä½œã€‚

æˆ‘ä»¬ç›´æ¥æ¥çœ‹ Apple çš„æ‰‹åŠ¿æ“ä½œã€‚

è§¦æ§æ¿å¸¸ç”¨åˆ°çš„æ‰‹åŠ¿æ“ä½œæœ‰ï¼š

æ»šåŠ¨ç¼©æ”¾ç±»ï¼š

- æ”¾å¤§ç¼©å°
- æ™ºèƒ½ç¼©æ”¾

è¿™é‡Œæå‡ºä¸€ä¸ªé—®é¢˜ï¼šæ˜æ˜æ˜¯ç¼©æ”¾ï¼Œä¸ºä»€ä¹ˆä»–ä»¬çš„è®¾ç½®é¡¹è¦å«æ»šåŠ¨ç¼©æ”¾ï¼Ÿ

![](https://img11.360buyimg.com/imagetools/jfs/t1/92361/16/25512/239646/6234280eE1acf6773/0a7bf0d1ec1d059b.jpg)

æ›´å¤šæ‰‹åŠ¿ç±»ï¼š

- å¸¸è§„ç‚¹å‡»æ“ä½œ
- åœ¨é¡µé¢ä¹‹é—´è½»æ‰«
- åœ¨å…¨å±å¹• App ä¹‹é—´è½»æ‰«
- è°ƒåº¦ä¸­å¿ƒ
- App ExposÃ©
- å¯åŠ¨å°
- æ˜¾ç¤ºæ¡Œé¢

![](https://img14.360buyimg.com/imagetools/jfs/t1/119703/10/22379/243775/6234280eEa4d36892/baf5a78b39bb6e65.jpg)

## 2 è§¦æ§æ¿ç‹¬æœ‰åŠŸèƒ½ä»¥åŠæ¨èç”¨æ³•

è¿™ç‚¹æ˜¯æˆ‘è¦é‡ç‚¹æ¨èçš„ï¼Œè§‚å¯Ÿåˆ°å¤§å®¶å¹³æ—¶æ“ä½œè§¦æ§æ¿æ‹–æ‹½çª—å£ï¼Œæˆ–è€…æ‹–æ‹½æ–‡ä»¶åŸºæœ¬éƒ½æ˜¯ä»¥ä¸‹æ­¥éª¤ï¼š

1. è§¦æ§æ¿ç§»åŠ¨å…‰æ ‡åˆ°æŒ‡å®šä½ç½®ï¼›
2. å•æŒ‡ä½¿åŠ²æŒ‰ä¸‹è§¦æ§æ¿ï¼›
3. å¼€å§‹æ‹–åŠ¨æ–‡ä»¶ï¼Œæ­¤æ—¶è¿˜çš„ä¸€ç›´ä½¿åŠ²æŒ‰ç€è§¦æ§æ¿ï¼›
4. æ‹–åˆ°æŒ‡å®šä½ç½®æ¾æ‰‹ã€‚

åˆ°ç¬¬ 2ã€3 æ­¥çš„æ—¶å€™ä½“éªŒå¤ªç³Ÿç³•äº†ã€‚æ‰‹æŒ‡æ—¢è¦å‘ä¸‹ç”¨åŠ›ï¼Œåˆè¦å‘å·¦å³ç”¨åŠ›æ»‘åŠ¨ï¼Œä¸€ä¸å°å¿ƒæ¾åŠ²äº†ï¼Œæ‹–ç€çš„æ–‡ä»¶åˆè·‘å›åŸæ¥çš„åœ°æ–¹äº†ï¼Œæˆ–è€…å‹æ ¹æ‹–åˆ°äº†ä¸è¯¥å»çš„åœ°æ–¹ã€‚çœŸæ˜¯éš¾å—ã€‚

ä½¿ç”¨äº†ä¸‹é¢æ¨èçš„æ–¹æ³•ä¹‹åï¼Œä½ å°±å¯ä»¥éšæ„æ‹–åŠ¨æ–‡ä»¶ï¼Œè€Œä¸”æ¯«ä¸è´¹åŠ›ï¼Œ

### 2.1 è§¦æ§æ¿ä¸‰æŒ‡æ‹–ç§»

è®¾ç½®æ–¹æ³•å¦‚ä¸‹ï¼š

- è®¾ç½® > è¾…åŠ©åŠŸèƒ½ > æŒ‡é’ˆæ§åˆ¶ > é¼ æ ‡ä¸è§¦æ§æ¿ > è§¦æ§æ¿é€‰é¡¹
  ![](https://img10.360buyimg.com/imagetools/jfs/t1/221356/8/13129/160585/6234280dEbef74fcd/6a9cf277c1b2fe1d.jpg)
  (è§¦æ§æ¿ä¸‰æŒ‡æ‹–ç§»è®¾ç½®)
- å¦‚æœæ‡’å¾—æ‰¾é‚£ä¹ˆæ·±çš„è®¾ç½®ï¼Œä¹Ÿå¯ä»¥ç›´æ¥æœç´¢ï¼šâ€œæ‹–ç§»â€ã€‚ å¯ä»¥çœ‹åˆ° Apple ç»™ä»–çš„å®šä½æè¿° â€œ**è®©é¼ æ ‡å’Œè§¦æ§æ¿æ›´æ˜“äºä½¿ç”¨**â€
  ![](https://img14.360buyimg.com/imagetools/jfs/t1/118588/12/21450/226348/6234280eE3ddfaa23/f5e17ed83a0e22bc.jpg)

æé†’ï¼šç”±äºä¸‰æŒ‡è¢«å ç”¨ï¼ŒåŸæ¥è§¦æ§æ¿é‡Œçš„â€œæ›´å¤šæ‰‹åŠ¿â€é‡Œå‡¡æ˜¯ç”¨åˆ°ä¸‰æŒ‡çš„éƒ½è¦æ”¹æˆå››æŒ‡ï¼Œé¿å…å†²çªã€‚ æ¥ä¸‹æ¥å‡ å¤©ä½ çš„æ“ä½œå¯èƒ½ä¼šç‰¹åˆ«éš¾å—ï¼Œä½†æ˜¯ä¹ æƒ¯çš„å‡çº§æ€»æ˜¯è¦ç»å†ä¸€ä¸ªè¿‡ç¨‹çš„ã€‚

ä»¥ä¸Šå°±æ˜¯è§¦æ§æ¿çš„æœ€ä¾¿äºä½¿ç”¨çš„æ–¹æ³•ã€‚

\--->>> å¿½ç•¥ç»“æŸ <<<---

æ¥ä¸‹æ¥å°±æ˜¯ä»£ç éƒ¨åˆ†äº†ã€‚

\--------------------------æˆ‘æ˜¯åˆ†å‰²çº¿--------------------------

## 3 é¼ æ ‡è§¦æ§æ¿å¼€å‘

æ–‡ç« å¼€å¤´æå‡ºçš„ç¬¬äºŒä¸ªé—®é¢˜ï¼šæˆ‘ä»¬è¦å®ç°è§¦æ§æ¿/é¼ æ ‡çš„å¹³ç§»ç¼©æ”¾åŠŸèƒ½è¯¥å¦‚ä½•å®ç°å‘¢ï¼Ÿç›¸ä¿¡å¤§éƒ¨åˆ†å‰ç«¯å¼€å‘è€…ç¬¬ä¸€ååº”æƒ³åˆ°ç›‘å¬é¼ æ ‡æ»šè½®äº‹ä»¶ã€‚æ²¡é”™ï¼Œå°±æ˜¯è¿ç”¨é¼ æ ‡æ»šè½®äº‹ä»¶ã€‚

æ­¤æ—¶æˆ‘åˆè¦æé—®äº†ï¼š

- è§¦æ§æ¿çš„åŒæŒ‡æåˆç¼©æ”¾é¡µé¢æ€ä¹ˆå®ç°å‘¢ï¼Ÿ
- è§¦æ§æ¿çš„åŒæŒ‡ä»»æ„æ–¹å‘æ»‘åŠ¨å¹³ç§»é¡µé¢è¯¥æ€ä¹ˆå®ç°å‘¢ï¼Ÿ
- è§¦æ§æ¿åˆè¯¥å¦‚ä½•ç¦ç”¨åŒæŒ‡è½»æ‰«åœ¨é¡µé¢é—´åˆ‡æ¢ï¼Ÿ

è¿™äº›å¦‚æœä½ è¿˜ä¸å¤ªæ¸…æ¥šï¼Œé‚£å°±çš„æ¥ç€å¾€ä¸‹çœ‹äº†ã€‚

ä¸‹é¢æˆ‘ä»¬ç»§ç»­å¸¦ç€é—®é¢˜æ¥æ‰¾ç­”æ¡ˆã€‚ä»¥ä¸‹æ˜¯æˆ‘æ‰¾ç­”æ¡ˆçš„è¿‡ç¨‹ï¼š

1. æœ¬ç€é¢å‘ Google ç¼–ç¨‹çš„æ€æƒ³ï¼Œåœ¨æœ€å¼€å§‹æˆ‘å…ˆ Google äº†ä¸€é€š â€œè§¦æ§æ¿ ç¦ç”¨ åŒæŒ‡ åé€€ è¿”å› trackpad disableâ€œ ç­‰ç­‰å…³é”®è¯ï¼Œæœç´¢ç»“æœéƒ½æ˜¯ç§»åŠ¨ç«¯é¡µé¢è§¦æ§æ‰‹åŠ¿ï¼Œè§¦æ§æ¿çš„æ–‡ç« å°‘å¾—å¯æ€œï¼ŒåŸºæœ¬éƒ½æ˜¯ä»‹ç»è§¦æ§æ¿çš„ä½¿ç”¨ï¼Œä»£ç ç›¸å…³çš„ä¸€æ— æ‰€è·ã€‚
2. åæ¥æˆ‘åœ¨æƒ³ä¼šä¸ä¼šè§¦æ§æ¿æœ‰æˆ‘ä¸çŸ¥é“çš„åŒæŒ‡äº‹ä»¶ï¼Œæˆ‘åˆå» `developer.apple.com` ä¸€é€šæœç´¢ä¹Ÿæ˜¯åªæœ‰ Mouse and Trackpad çš„åŠŸèƒ½ä»‹ç»ï¼Œåœ¨æ·±å…¥å°±åˆ° Appkit äº†æ˜¾ç„¶è¿™æ¡è·¯ä¹Ÿä¸å¯¹ã€‚
3. ä¸€ç­¹è«å±•ä¹‹ä¸‹ `stack overflow` æ°¸è¿œä¸ä¼šè®©ä½ å¤±æœ›ã€‚åœ¨è¿™é‡Œæ‰¾åˆ°äº†ä¸€ä¸ªé—®é¢˜ï¼š [Detect touchpad vs mouse in Javascript](https://stackoverflow.com/questions/10744645/detect-touchpad-vs-mouse-in-javascript) ï¼Œå¿ƒæƒ³åæ­£ä¹Ÿè¦åˆ¤æ–­è§¦æ§æ¿å’Œé¼ æ ‡ï¼Œé‚£å°±æŠ„ä¸€ä¸‹è¿™ä¸ªç­”æ¡ˆå§ã€‚æŠ„ç­”æ¡ˆæ—¶å€™å‘ç°åŸºæœ¬ç”¨åˆ°çš„éƒ½æ˜¯ `mousewheel` äº‹ä»¶ã€‚
4. æ‰€ä»¥ mdn æ¥ç€æ‰¾ `mousewheel` èµ„æ–™ï¼Œå‘ç° `mousewheel: This feature is no longer recommended.` æ¨èç”¨ `wheel`ï¼Œä¼¼ä¹æˆ‘ä»¬å·²ç»æ‰¾åˆ°äº†è§£å†³é—®é¢˜çš„æ–¹æ³•ã€‚

ç”¨åˆ°çš„å¯¹è±¡ä¸»è¦æ˜¯ `WheelEvent`ã€‚é™¤ä»–ä¹‹å¤–è¿˜æœ‰å‡ ä¸ªå…³è”çš„äº‹ä»¶å¯¹è±¡è¦ç†Ÿæ‚‰ï¼š`MouseEvent`ï¼Œ`UIEvent`ï¼Œ`Event`ã€‚è¿™äº›äº‹ä»¶å¯¹è±¡éƒ½æ˜¯ä¾æ¬¡ç»§æ‰¿ä¸‹æ¥çš„ã€‚

åˆ°è¿™é‡Œç­”æ¡ˆåŸºæœ¬å‡ºæ¥äº†è§£å†³ä¸Šé¢çš„é—®é¢˜ä¸»è¦è¿ç”¨çš„å°±æ˜¯ï¼š`wheel` é¼ æ ‡æ»šè½®äº‹ä»¶ã€‚åˆ°è¿™é‡Œä¹Ÿå›ç­”äº†ä¸Šé¢çš„é—®é¢˜ï¼šä¸ºä½•åŒæŒ‡ç¼©æ”¾ç­‰è®¾ç½®é¡¹ä¼šå½’ç±»åˆ°æ»šåŠ¨ç¼©æ”¾ä¸‹ï¼Œå› ä¸ºä»–ä»¬çš„å®ç°éƒ½æ˜¯ä½¿ç”¨äº† **`wheel`äº‹ä»¶**ã€‚

é‚£æˆ‘ä»¬å°±ç»†ç»†ç ”ç©¶ä¸€ä¸‹ **`wheel`äº‹ä»¶**ï¼Œå…ˆçœ‹ä»–çš„å‡ ä¸ªå¯¹æˆ‘ä»¬æ¥è¯´æœ‰ç”¨çš„å±æ€§ï¼š

- `WheelEvent.deltaX` åªè¯»ï¼šè¿”å› double å€¼ï¼Œè¯¥å€¼è¡¨ç¤ºæ»šè½®çš„**æ¨ªå‘**æ»šåŠ¨é‡ã€‚
- `WheelEvent.deltaY` åªè¯»ï¼šè¿”å› double å€¼ï¼Œè¯¥å€¼è¡¨ç¤ºæ»šè½®çš„**çºµå‘**æ»šåŠ¨é‡ã€‚

ä»äº‹ä»¶å±æ€§å¯ä»¥çœ‹å‡ºè¯¥äº‹ä»¶ä¸»è¦ç”¨æ¥ç›‘å¬é¼ æ ‡æ»šè½®çš„æ»šåŠ¨ï¼Œå¹¶å¯ä»¥æ‹¿åˆ°æ»šåŠ¨é‡ã€‚ ä¸ºäº†æçš„æ›´æ¸…æ¥šè¿™å‡ ä¸ªå±æ€§æ‰€ä»£è¡¨çš„æ„ä¹‰ï¼Œæ¥ä¸‹æ¥æˆ‘åšäº†ä¸ªå°å®éªŒï¼Œæ¥æ¢ç©¶ `delta` çš„å˜åŒ–è§„å¾‹ã€‚

### 3.1 wheel å°å®éªŒ

å®éªŒè¯´æ˜ï¼š é¡µé¢æœ‰ä¸¤ä¸ª `div`ï¼Œå†…éƒ¨ `div` æ¯”å¤–éƒ¨çš„å¤§ï¼Œé€šè¿‡ç›‘å¬æ»šè½®äº‹ä»¶æ»šåŠ¨å¯»æ‰¾ `deltaXã€deltaY` çš„è§„å¾‹ã€‚ åŒæ—¶å°† `scrollTopã€scrollLeft` æ‰“å°å‡ºæ¥è¿›è¡Œå‚ç…§çœ‹ `div` çš„æ»šåŠ¨æ–¹å‘ã€‚

```html
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0"
    />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>ä½ ä¸çŸ¥é“çš„ Trackpad</title>
    <style>
      body {
        background-color: #25252580;
        overflow: hidden;
      }
      #root {
        position: fixed;
        top: calc(50% - 150px);
        left: calc(50% - 150px);

        width: 300px;
        height: 300px;

        /* ä»»æ„æ–¹å‘æ»šåŠ¨ */
        overflow: scroll;

        /* çºµå‘æ»šåŠ¨æ•ˆæœ */
        /*overflow-x: hidden;*/
        /*overflow-y: scroll;*/

        /* æ¨ªå‘æ»šåŠ¨æ•ˆæœ */
        /*overflow-x: scroll;*/
        /*overflow-y: hidden;*/
      }
      h1 {
        position: absolute;
        top: 0;
        left: 0;
      }
      #container {
        width: 1000px;
        height: 1000px;
        /* èƒŒæ™¯è‰²æ¸å˜ */
        background: linear-gradient(
            217deg,
            rgba(255, 0, 0, 0.8),
            rgba(255, 0, 0, 0) 70.71%
          ), linear-gradient(
            127deg,
            rgba(0, 255, 0, 0.8),
            rgba(0, 255, 0, 0) 70.71%
          ), linear-gradient(336deg, rgba(0, 0, 255, 0.8), rgba(0, 0, 255, 0) 70.71%);
      }
    </style>
  </head>
  <body>
    ç°è‰²çš„éƒ½æ˜¯body
    <div id="root">
      <h1>ä½ ä¸çŸ¥é“çš„ Trackpad</h1>
      <div id="container"></div>
    </div>

    <script>
      document.addEventListener(
        "wheel",
        function (e) {
          e.stopPropagation();
          e.preventDefault();
          return false;
        },
        { passive: false }
      );
      document.getElementById("root").addEventListener(
        "wheel",
        function (e) {
          e.stopPropagation();
          logInfo(e, "root");
          isTrackpadOrMouse(e);
        },
        { passive: false }
      );

      let hnum = 1;
      let vnum = 1;
      // ä¸´æ—¶å­˜æ”¾æ—¥å¿—ï¼Œæ–¹ä¾¿ä»¥è¡¨æ ¼å±•ç¤ºæ–¹ä¾¿å¯¹æ¯”ç»“æœ
      let temp = [];
      // æ˜¯å¦ä¸€ç›´æ‰“å°æ—¥å¿—
      let always = false;

      /**
       * é‡ç‚¹çœ‹è¿™å‡ ä¸ªå±æ€§ï¼šdeltaXã€deltaYã€ctrlKey
       */
      function logInfo(e, name) {
        let info = {
          name: name,
          button: e.button,
          ctrlKey: e.ctrlKey,
          // altKey: e.altKey,
          // metaKey: e.metaKey,
          shiftKey: e.shiftKey,
          // which: e.which,
          // clientX: e.clientX,
          // clientY: e.clientY,
          deltaMode: e.deltaMode,
          deltaX: e.deltaX,
          deltaY: e.deltaY,
          // deltaZ: e.deltaZ,
          // layerX: e.layerX,
          // layerY: e.layerY,
          // offsetX: e.offsetX,
          // offsetY: e.offsetY,
          // wheelDelta: e.wheelDelta,
          wheelDeltaX: e.wheelDeltaX,
          wheelDeltaY: e.wheelDeltaY,
          scrollTop: document.getElementById(name).scrollTop,
          scrollLeft: document.getElementById(name).scrollLeft,
          // x: e.x,
          // y: e.y,
        };
        if (always || hnum % 10 === 0 || vnum % 10 === 0) {
          temp.push(info);
        }

        // å‚ç›´æ»šåŠ¨æ—¶
        if (e.deltaY > 0) {
          vnum += 1;
        } else if (e.deltaY < 0) {
          vnum -= 1;
        }

        // æ°´å¹³æ»šåŠ¨æ—¶
        if (e.deltaX > 0) {
          hnum += 1;
        } else if (e.deltaX < 0) {
          hnum -= 1;
        }

        if (always || hnum === 0 || vnum === 0) {
          console.table(always ? [info] : temp);
        }
      }

      /**
       * åˆ¤æ–­æ˜¯é¼ æ ‡æˆ–è€…è§¦æ§æ¿
       * @param e
       * @return {boolean}
       */
      function isTrackpadOrMouse(e) {
        let isTrackpad = false;
        if (e.wheelDeltaY) {
          if (e.wheelDeltaY === e.deltaY * -3) {
            isTrackpad = true;
          }
        } else if (e.deltaMode === 0) {
          isTrackpad = true;
        }

        console.log(isTrackpad ? "Trackpad detected" : "Mousewheel detected");
        return isTrackpad;
      }
    </script>
  </body>
</html>
```

å®éªŒæ•ˆæœå›¾ï¼š

![](https://img14.360buyimg.com/imagetools/jfs/t1/130766/25/21909/787907/6234280fE78f2f25e/78d142a6d3d67788.jpg)

### 3.2 å®éªŒç»“è®º

é€šè¿‡å®éªŒå‘ç°ï¼š

#### 3.2.1 è§¦æ§æ¿

- **å¹³ç§»** æ˜¯åˆ¤æ–­ `deltaX`ã€`deltaY` æ­£è´Ÿ

1. `deltaX` **è¿ç»­**ä¸ºæ­£æ•°ï¼š**å‘å·¦** ğŸ‘ˆ
2. `deltaX` **è¿ç»­**ä¸ºè´Ÿæ•°ï¼š**å‘å³** ğŸ‘‰
3. `deltaY` **è¿ç»­**ä¸ºæ­£æ•°ï¼š**å‘ä¸Š** ğŸ‘†
4. `deltaY` **è¿ç»­**ä¸ºè´Ÿæ•°ï¼š**å‘ä¸‹** ğŸ‘‡

> ä¸ºä»€ä¹ˆè¦å¼ºè°ƒ**è¿ç»­**ï¼Œå› ä¸ºè§¦æ§æ¿æ¯”è¾ƒçµæ•ï¼ˆçµæ•åº¦å¯è°ƒï¼‰ï¼Œè€Œä¸”æ»šåŠ¨ä¼šæœ‰æƒ¯æ€§ï¼ˆæƒ¯æ€§ä¹Ÿå¯è®¾ç½®ï¼‰ã€‚å¶å°”ä¸€æ¬¡æ­£è´Ÿå˜åŒ–ä¸èƒ½è¯´æ˜ç¡®åˆ‡æ–¹å‘ï¼Œå¿…é¡»è¿ç»­æ‰èƒ½è¯´æ˜æ–¹å‘å˜åŒ–ã€‚
>
> çµæ•åº¦ã€æƒ¯æ€§è®¾ç½®è¿˜æ˜¯åœ¨è¾…åŠ©åŠŸèƒ½è¿™é‡Œï¼š
>
> ![](https://img10.360buyimg.com/imagetools/jfs/t1/133765/22/24779/156042/62342810E5da6af46/24907a3913563c56.jpg)

- **ç¼©æ”¾** æ˜¯åˆ¤æ–­ `deltaY` + `ctrlKey` çš„å€¼

1. `ctrlKey = true` & `deltaY` **è¿ç»­**ä¸ºæ­£æ•°ï¼š**å‘å†…**
2. `ctrlKey = true` & `deltaY` **è¿ç»­**ä¸ºè´Ÿæ•°ï¼š**å‘å¤–**

#### 3.2.2 é¼ æ ‡

æ™®é€šé¼ æ ‡æ»šè½®ä¸€èˆ¬åªæœ‰ä¸Šä¸‹ä¸¤ä¸ªæ–¹å‘ï¼Œæ‰€ä»¥é¼ æ ‡æ¨¡å¼ä¸‹ï¼š

- **ç¼©æ”¾** æ˜¯æ»šè½®æ»šåŠ¨
- **å¹³ç§»** æ˜¯é•¿æŒ‰å³é”®æ‹–æ‹½

> æˆ‘çš„å®éªŒä»£ç ä¸ºäº†ç®€å•æ²¡æœ‰åšè¿ç»­å·®å€¼è®¡ç®—ï¼Œåªæ˜¯ç®€å•åˆ¤æ–­äº†æ­£è´Ÿï¼Œè¿ç»­çš„æ›´åŠ ä¸¥è°¨ã€‚

### 3.3 ç¦ç”¨è§¦æ§æ¿åŒæŒ‡è½»æ‰«è¿”å›ã€æ™ºèƒ½ç¼©æ”¾

å¹³ç§»ç¼©æ”¾åŠŸèƒ½å®ç°äº†ï¼Œè¿˜å·®æ€ä¹ˆç¦ç”¨æ™ºèƒ½ç¼©æ”¾ï¼Œå’Œæ¸…æ‰«è¿”å›ä¸Šä¸€é¡µã€‚ ä¸‹å›¾è¿™ä¸ªç®­å¤´ä½ ä¸€å®šè§è¿‡ï¼Œå¹³æ—¶ç”¨ç€æŒºæ–¹ä¾¿ï¼Œä½†æ˜¯åœ¨ç”»å›¾è½¯ä»¶é‡Œï¼Œæƒ³å¹³ç§»ç”»å¸ƒç»“æœé¡µé¢è·³è½¬äº†ï¼Œå¤ªå½±å“æ“ä½œã€‚æ‰€ä»¥éœ€è¦æ‰å®ƒã€‚

![](https://img10.360buyimg.com/imagetools/jfs/t1/126091/34/25205/256201/62342810E507a7f05/828f851bf84bfa09.jpg)

è€Œæ™ºèƒ½ç¼©æ”¾æ›´åƒæ˜¯ä¸€ä¸ªæ”¾å¤§é•œï¼Œä»–ä¸æµè§ˆå™¨çš„ç¼©æ”¾è¿˜ä¸ä¸€æ ·ã€‚ æµè§ˆå™¨çš„ç¼©æ”¾æ˜¯å°†é¡µé¢çš„æ¯ä¸ªå…ƒç´ éƒ½ç­‰æ¯”ä¾‹æ”¾å¤§ã€‚ æ™ºèƒ½ç¼©æ”¾çš„æ”¾å¤§å°±åƒç¼©æ”¾å›¾ç‰‡ä¸€æ ·ï¼Œé¡µé¢è¶…å‡ºæµè§ˆå™¨çª—å£çš„å…ƒç´ éƒ½çœ‹ä¸è§äº†æ— æ³•æ“ä½œã€‚ æ‰€ä»¥ä¹Ÿéœ€è¦ç¦æ‰æ™ºèƒ½ç¼©æ”¾ã€‚

åœ¨æ“ä½œéƒ¨åˆ†æˆ‘ä»¬è¯´è¿‡ï¼ŒåŒæŒ‡è½»æ‰«è¿”å›ã€æ™ºèƒ½ç¼©æ”¾éƒ½å½’ç±»åœ¨æ»šåŠ¨é‡Œï¼Œå¹¶ä¸”ä¸Šé¢å®éªŒä¹Ÿè¯å®ä»–ä¹Ÿæ˜¯ä½¿ç”¨äº† `wheel` äº‹ä»¶åªä¸è¿‡äº‹ä»¶ç»‘å®šåœ¨äº† `document` ä¸Šã€‚æ‰€ä»¥æˆ‘ä»¬åªéœ€è¦ç¦æ­¢ `document` ä¸Šçš„ `wheel` äº‹ä»¶é»˜è®¤è¡Œä¸ºå°±å¯ä»¥äº†ç¦æ­¢è¿™äº›æ“ä½œã€‚

- `addEventListener` çš„ `passive` å±æ€§

çœ‹ MDN æ–‡æ¡£è¯´æ˜ï¼š

> `passive: Boolean`ï¼Œè®¾ç½®ä¸º`true`æ—¶ï¼Œè¡¨ç¤º `listener` æ°¸è¿œä¸ä¼šè°ƒç”¨ `preventDefault()`ã€‚å¦‚æœ `listener` ä»ç„¶è°ƒç”¨äº†è¿™ä¸ªå‡½æ•°ï¼Œå®¢æˆ·ç«¯å°†ä¼šå¿½ç•¥å®ƒå¹¶æŠ›å‡ºä¸€ä¸ªæ§åˆ¶å°è­¦å‘Šã€‚

åœ¨ `addEventListener` ä¸­ `passive` é»˜è®¤æ˜¯ `true`,åªæœ‰ `passive:false`ï¼Œ`e.preventDefault()` æ‰ä¼šç”Ÿæ•ˆã€‚

å¯¹ `document` æ‹¦æˆªäº†æ»šè½®äº‹ä»¶é»˜è®¤è¡Œä¸ºåï¼Œå› ä¸ºè¯¥äº‹ä»¶ä¼šä¼ æ’­å†’æ³¡ï¼Œæ‰€ä»¥éœ€è¦æ³¨æ„é¡µé¢ä¸Šå…¶ä»–çš„å­å…ƒç´ ï¼Œå¦‚æœæœ‰æ»šåŠ¨æ¡ä¹‹ç±»çš„ä¹Ÿä¼šå¤±æ•ˆï¼Œéœ€è¦åœ¨å­å…ƒç´ ä¸Šé˜»æ­¢å†’æ³¡ã€‚

```js
document.addEventListener(
  "wheel",
  function (e) {
    e.stopPropagation();
    // æ‰€ä»¥å®é™…ä»£ç ä¸­è¦åœ¨è¿™é‡Œåˆ¤æ–­ï¼Œåªæœ‰æŸäº›æƒ…å†µæ‰ç¦ç”¨é»˜è®¤è¡Œä¸ºã€‚
    e.preventDefault();
    return false;
  },
  { passive: false }
);
```

### 3.4 æ³¨æ„ç‚¹

> æ³¨æ„äº‹é¡¹ï¼š è¯·å‹¿æƒ³å½“ç„¶ä¾æ®æ»šè½®æ–¹å‘ï¼ˆå³è¯¥äº‹ä»¶çš„å„ delta å±æ€§å€¼ï¼‰æ¥æ¨æ–­æ–‡æ¡£å†…å®¹çš„æ»šåŠ¨æ–¹å‘ï¼Œå› æ ‡å‡†æœªå®šä¹‰æ»šè½®äº‹ä»¶å…·ä½“ä¼šå¼•å‘ä»€ä¹ˆæ ·çš„è¡Œä¸ºï¼Œå¼•å‘çš„è¡Œä¸ºå®é™…ä¸Šæ˜¯å„æµè§ˆå™¨è‡ªè¡Œå®šä¹‰çš„ã€‚å³ä¾¿æ»šè½®äº‹ä»¶å¼•å‘äº†æ–‡æ¡£å†…å®¹çš„æ»šåŠ¨è¡Œä¸ºï¼Œä¹Ÿä¸è¡¨ç¤ºæ»šè½®æ–¹å‘å’Œæ–‡æ¡£å†…å®¹çš„æ»šåŠ¨æ–¹å‘ä¸€å®šç›¸åŒã€‚å› è€Œé€šè¿‡è¯¥æ»šè½®äº‹ä»¶è·çŸ¥æ–‡æ¡£å†…å®¹æ»šåŠ¨æ–¹å‘çš„æ–¹æ³•å¹¶ä¸å¯é ã€‚è¦è·å–æ–‡æ¡£å†…å®¹çš„æ»šåŠ¨æ–¹å‘ï¼Œå¯åœ¨æ–‡æ¡£å†…å®¹æ»šåŠ¨äº‹ä»¶ï¼ˆ`scroll (en-US)`ï¼‰ä¸­ç›‘å¬`scrollLeft`å’Œ`scrollTop`äºŒå€¼å˜åŒ–æƒ…å†µï¼Œå³å¯æ¨æ–­å‡ºæ»šåŠ¨æ–¹å‘äº†ã€‚

è¯¦ç»†çš„å±æ€§è¯´æ˜çœ‹ [MDN wheel äº‹ä»¶æ–‡æ¡£](https://developer.mozilla.org/zh-CN/docs/Web/API/Element/wheel_event) ï¼Œä¸åœ¨è¿™é‡Œç²˜æ–‡æ¡£äº†ã€‚

åˆ°è¿™é‡ŒåŸºæœ¬ä¸Šè¯¥æœ‰çš„åŠŸèƒ½å°±éƒ½å®ç°äº†ã€‚æœ¬æ–‡å®ç°éœ€æ±‚åœ¨æ–‡ç« å¼€å¤´å·²ç»ç»™å‡ºè¿™é‡Œä¸å†èµ˜è¿°ã€‚ è¿™ç¯‡æ–‡ç« åˆ°æ­¤ä¹Ÿå°±ç»“æŸäº†ã€‚å¸Œæœ›ä¼šå¯¹ä½ æœ‰æ‰€å¸®åŠ©ã€‚åŒæ—¶æ„Ÿè°¢ä»¥ä¸‹åšå®¢ä¸»ä¸ºæˆ‘ä»¬åšå‡ºçš„æ¢ç´¢ä¸å°è¯•ã€‚

## å‚è€ƒè¿æ¥

1. [https://juejin.cn/post/6844904023598825486](https://juejin.cn/post/6844904023598825486)
2. [https://stackoverflow.com/questions/10744645/detect-touchpad-vs-mouse-in-javascript](https://stackoverflow.com/questions/10744645/detect-touchpad-vs-mouse-in-javascript)
3. [https://support.apple.com/en-ug/HT204895](https://support.apple.com/en-ug/HT204895)
4. [https://www.apude.com/blog/5979.html](https://www.apude.com/blog/5979.html)
