---
title: "fnm + Cmder 使用, 从此不再有多个项目多个 Node 切来切去的苦恼了[windows]"
date: 2023-05-17T15:23:50+08:00
---

**建议先去看一下官网了解一下**: [github.com/Schniz/fnm](https://github.com/Schniz/fnm)

## 前置配置:

添加`cmder`的路径环境变量: `CMDER_ROOT`, 如下:

![image.png](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/01490612b0d244fc9ef583de4d9cabb5~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp)

添加环境变量`FNM_DIR`, 这个就是配置以后安装的`node`各个版本的目录, 并且每个版本的全局安装的包也会在这个目录下, 如果不配置的话, 会默认安装在`C:\Users{your user name}\AppData\Roaming\fnm`下。

![image.png](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/568d7a58f69640e2b49088d781eb1584~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp)

## 安装

**windows**: 直接使用二进制文件安装 [下载地址](https://github.com/Schniz/fnm/releases)

![image.png](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f72e830700034276aaaaa706628b8b6c~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp)

**mac**: 或者使用命令安装, 如下:

```sh
curl -fsSL https://fnm.vercel.app/install | bash -s -- --install-dir "./.fnm" --skip-shell
```

也可使用二进制文件安装。

## 配置环境变量

![image.png](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/751ab68874994ea995dbcd993fba91d1~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp)

## 与 cmder 结合使用

在前置配置里我们配置好`CMDER_ROOT`的环境变量 现在 创建一个`.cmd`的文件, 写入以下内容:

```bash
:: %CMDER_ROOT%\bin\fnm_init.cmd
@echo off
FOR /f "tokens=*" %%z IN ('fnm env --use-on-cd') DO CALL %%z
```

将上面创建的`fnm_init.cmd`放置到`%CMDER_ROOT%\bin\fnm_init.cmd`, 然后打开`%CMDER_ROOT%\config\user_profile.cmd`, 追加以下内容:

```bash
:: %CMDER_ROOT%\config\user_profile.cmd
call "%CMDER_ROOT%\bin\fnm_init.cmd"
```

这样就可以了 使用`cmder`打开项目目录时, 就会自动读取项目下的`.node-version`

## 基本使用

`fnm ls-remote`: 查看远程`Node`版本

`fnm install v18.16.0`: 安装指定`Node`版本

`fnm install --lts`: 安装最新 LTS 版本的`Node`

`fnm alias <version> <name>`: 配置版本别名, 例如: `fnm alias 14.1.0 old`

`fnm default <version>`: 配置默认 node 版本

`fnm unalias <name>`: 删除别名

`fnm use 18`: 使用特定版本, 可以直接是 16, 18 这样

`fnm use`: 单独列一下, 如果后面不指定版本, 项目根目录下存在

`.node-version`文件, 那么该命令会自动切换到

`.node-version`配置的`node`版本

`fnm ls`: 列出本地所有安装的`Node`版本

## 与项目配合使用

在项目根目录下添加`.node-version`文件, 并写入:

```sh
v18.16.0
```

## 卸载

这个官网说的我没太明白, 我理解的是把`fnm`的安装路径删掉, 然后删掉`fnm`的`node`安装目录, 再删掉环境变量就算卸成功了.
